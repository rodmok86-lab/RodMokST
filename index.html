<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>RodMok Store - Carrinho</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      background: #f8f8f8;
    }

    /* Estilo do modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.5);
      overflow: auto;
    }

    .modal-content {
      background-color: white;
      margin: 10% auto;
      padding: 24px;
      border-radius: 12px;
      width: 90%;
      max-width: 480px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.2);
    }

    .close {
      color: #aaa;
      float: right;
      font-size: 32px;
      font-weight: bold;
      cursor: pointer;
    }

    .close:hover,
    .close:focus {
      color: black;
      text-decoration: none;
    }

    h2 {
      text-align: center;
      margin: 0 0 20px;
      color: #333;
    }

    .item-carrinho {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 0;
      border-bottom: 1px solid #eee;
    }

    .item-carrinho span {
      flex: 1;
    }

    .remover {
      background: #ff4d4d;
      color: white;
      border: none;
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9em;
    }

    .remover:hover {
      background: #e63939;
    }

    .total {
      font-size: 1.2em;
      font-weight: bold;
      text-align: right;
      margin: 20px 0 16px;
      color: #222;
    }

    .botoes {
      display: flex;
      gap: 12px;
      justify-content: center;
    }

    button {
      padding: 12px 28px;
      font-size: 1.05em;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.2s;
    }

    .btn-fechar {
      background: #6c757d;
      color: white;
    }

    .btn-fechar:hover {
      background: #5a6268;
    }

    .btn-comprar {
      background: #28a745;
      color: white;
      font-weight: bold;
    }

    .btn-comprar:hover {
      background: #218838;
    }

    .vazio {
      text-align: center;
      color: #777;
      padding: 40px 0;
    }
  </style>
</head>
<body>

  <!-- Botão para abrir o carrinho (exemplo) -->
  <button onclick="abrirCarrinho()">Ver Carrinho</button>

  <!-- MODAL DO CARRINHO -->
  <div id="modalCarrinho" class="modal">
    <div class="modal-content">
      <span class="close" onclick="fecharCarrinho()">&times;</span>
      <h2>Seu Carrinho</h2>

      <div id="itensCarrinho"></div>

      <div class="total" id="totalCarrinho">Total: R$ 0,00</div>

      <div class="botoes">
        <button class="btn-fechar" onclick="fecharCarrinho()">Fechar</button>
        <button class="btn-comprar" onclick="finalizarCompra()">Comprar Agora</button>
      </div>
    </div>
  </div>

  <script>
    // Exemplo de produtos no carrinho (você pode puxar do localStorage ou do seu sistema)
    let carrinho = [
      { nome: "Camiseta Básica Preta", preco: 79.90, quantidade: 1 },
      { nome: "Calça Jeans Slim", preco: 159.90, quantidade: 1 }
    ];

    function atualizarCarrinho() {
      const container = document.getElementById("itensCarrinho");
      const totalEl = document.getElementById("totalCarrinho");
      container.innerHTML = "";

      if (carrinho.length === 0) {
        container.innerHTML = '<div class="vazio">Seu carrinho está vazio.</div>';
        totalEl.textContent = "Total: R$ 0,00";
        return;
      }

      let total = 0;

      carrinho.forEach((item, index) => {
        const subtotal = item.preco * item.quantidade;
        total += subtotal;

        const div = document.createElement("div");
        div.className = "item-carrinho";
        div.innerHTML = `
          <span>\( {item.nome} — R \) ${subtotal.toFixed(2)}</span>
          <button class="remover" onclick="removerItem(${index})">Remover</button>
        `;
        container.appendChild(div);
      });

      totalEl.textContent = `Total: R$ ${total.toFixed(2)}`;
    }

    function abrirCarrinho() {
      atualizarCarrinho();
      document.getElementById("modalCarrinho").style.display = "block";
    }

    function fecharCarrinho() {
      document.getElementById("modalCarrinho").style.display = "none";
    }

    function removerItem(index) {
      carrinho.splice(index, 1);
      atualizarCarrinho();
    }

    function finalizarCompra() {
      if (carrinho.length === 0) {
        alert("Seu carrinho está vazio!");
        return;
      }
      // Aqui você coloca a ação real: redirecionar, WhatsApp, checkout, etc.
      alert("Indo para o checkout!\n\nTotal: " + document.getElementById("totalCarrinho").textContent);
      // Exemplo WhatsApp:
      // window.open("https://wa.me/556999999999?text=Quero%20comprar%20os%20itens%20do%20carrinho!", "_blank");
      // fecharCarrinho();
    }

    // Fecha modal clicando fora
    window.onclick = function(event) {
      const modal = document.getElementById("modalCarrinho");
      if (event.target === modal) {
        fecharCarrinho();
      }
    };
  </script>

</body>
</html>
